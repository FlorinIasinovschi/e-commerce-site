{"ast":null,"code":"var _jsxFileName = \"G:\\\\Dropbox (Personale)\\\\Programming\\\\e-commerce\\\\client\\\\src\\\\pages\\\\ProductPage.jsx\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components/';\nimport Footer from '../components/Footer';\nimport Navbar from '../components/Navbar';\nimport NewsLetter from '../components/NewsLetter';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProduct } from '../redux/cartRedux';\nimport { Fade } from 'react-reveal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PageContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  `;\n_c = PageContainer;\nconst Wrapper = styled.div`\n  display: flex;\n  width: 100%;\n  height: calc(100vh - 70px );\n`;\n_c2 = Wrapper;\nconst Left = styled.div`\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: aliceblue;\n  \n`;\n_c3 = Left;\nconst Right = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c4 = Right;\nconst RightContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 100%;\n\n`;\n_c5 = RightContainer;\nconst ProductImg = styled.img`\n  object-fit: contain;\n  width: auto;\n  height: 90%;\n`;\n_c6 = ProductImg;\nconst BlockContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 80px;\n  margin-top: 2%;\n  width: 100%;\n  justify-content: space-between;\n  \n`;\n_c7 = BlockContainer;\nconst ProductTitle = styled.h1`\n  color: #3a3a3a;\n  font-size: 3em;\n  font-weight: 300;\n  margin: 8% 0 5% 0;\n`;\n_c8 = ProductTitle;\nconst Paragraph = styled.p`\n  width: 70%;\n  font-size: 1.2em;\n  margin: 0 0 5% 0;\n`;\n_c9 = Paragraph;\nconst Price = styled.span`\n  font-size: 2em;\n  margin: 0 0 5% 0;\n\n`;\n_c10 = Price;\nconst SpanContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n`;\n_c11 = SpanContainer;\nconst Text = styled.span`\n  font-size: 1.5em;\n`;\n_c12 = Text;\nconst Selection = styled.select`\nwidth: auto;\nfont-size: 1em;\nheight: auto;\nmargin-left: 1em;\npadding: 10px;\n`;\n_c13 = Selection;\nconst Option = styled.option`\n  font-size: 1em;\n`;\n_c14 = Option;\nconst Amount = styled.p`\n  font-size: 1.5em;\n  margin: 0 3%;\n\n`;\n_c15 = Amount;\nconst SymbolBtn = styled.button`\n  font-size: 1.5em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &:hover {\n    background-color: #303030;\n    color: white;\n  border: 2px solid white;\n  }\n`;\n_c16 = SymbolBtn;\nconst AddToCartBtn = styled.button`\n  background: white;\n  cursor : pointer;\n  color : black;\n  border: 2px solid grey;\n  padding: .8em;\n  width: 100px;\n  font-size: .8em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 5%;\n  transition: all 0.3s ease;\n  &:hover {\n    background-color: #303030;\n    color: white;\n  border: 2px solid white;\n  }\n\n`;\n_c17 = AddToCartBtn;\n\nfunction ProductPage() {\n  _s();\n\n  var _productInfo$size;\n\n  const [amount, setAmount] = useState(1);\n  const [limit, setLimit] = useState(false);\n  const [size, setSize] = useState(\"\");\n  const cart = useSelector(state => state.cart);\n  const [cartIdx, setCartIdx] = useState(cart.quantity);\n  const id = useLocation().pathname.split('/')[2];\n  const [productInfo, setProductInfo] = useState({});\n  useEffect(() => {\n    const getProductData = async () => {\n      try {\n        console.log(id);\n        const res = await axios.get(`http://localhost:5000/api/products/${id}`);\n        setProductInfo(res.data);\n        console.log(res);\n      } catch (err) {}\n    };\n\n    getProductData();\n  }, [id]);\n\n  const handleAmount = action => {\n    if (action === \"decrease\" && amount > 1) {\n      setAmount(amount - 1);\n      setLimit(false);\n    }\n\n    if (action === \"increase\" && amount === 5) {\n      setLimit(true);\n    } else if (action === \"increase\" && amount < 5) {\n      setAmount(amount + 1);\n    }\n  };\n\n  const dispatch = useDispatch();\n\n  const addToCart = async () => {\n    setCartIdx(cart.quantity);\n    console.log(cartIdx);\n    dispatch(addProduct({ ...productInfo,\n      amount,\n      size,\n      cartIdx\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Fade, {\n      children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Left, {\n        delay: 200,\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          left: true,\n          children: /*#__PURE__*/_jsxDEV(ProductImg, {\n            src: productInfo.img\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Right, {\n        children: /*#__PURE__*/_jsxDEV(RightContainer, {\n          children: /*#__PURE__*/_jsxDEV(Fade, {\n            children: [/*#__PURE__*/_jsxDEV(ProductTitle, {\n              children: productInfo.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              children: [productInfo.description, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Price, {\n              children: [\"$ \", productInfo.price, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BlockContainer, {\n              children: /*#__PURE__*/_jsxDEV(SpanContainer, {\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Selection, {\n                  onChange: e => setSize(e.target.value),\n                  children: (_productInfo$size = productInfo.size) === null || _productInfo$size === void 0 ? void 0 : _productInfo$size.map(s => /*#__PURE__*/_jsxDEV(Option, {\n                    children: s\n                  }, s, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 52\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BlockContainer, {\n              children: /*#__PURE__*/_jsxDEV(SpanContainer, {\n                children: [/*#__PURE__*/_jsxDEV(SymbolBtn, {\n                  onClick: () => handleAmount(\"decrease\"),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Amount, {\n                  children: amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SymbolBtn, {\n                  onClick: () => handleAmount(\"increase\"),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(AddToCartBtn, {\n                  onClick: () => addToCart(),\n                  children: \"Add to Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SpanContainer, {\n              style: {\n                color: \"red\"\n              },\n              children: limit && \"Sorry can't order more than 5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewsLetter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductPage, \"AfaFyaemNv3Eo1QhyJAviQljXIU=\", false, function () {\n  return [useSelector, useLocation, useDispatch];\n});\n\n_c18 = ProductPage;\nexport default ProductPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18;\n\n$RefreshReg$(_c, \"PageContainer\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Left\");\n$RefreshReg$(_c4, \"Right\");\n$RefreshReg$(_c5, \"RightContainer\");\n$RefreshReg$(_c6, \"ProductImg\");\n$RefreshReg$(_c7, \"BlockContainer\");\n$RefreshReg$(_c8, \"ProductTitle\");\n$RefreshReg$(_c9, \"Paragraph\");\n$RefreshReg$(_c10, \"Price\");\n$RefreshReg$(_c11, \"SpanContainer\");\n$RefreshReg$(_c12, \"Text\");\n$RefreshReg$(_c13, \"Selection\");\n$RefreshReg$(_c14, \"Option\");\n$RefreshReg$(_c15, \"Amount\");\n$RefreshReg$(_c16, \"SymbolBtn\");\n$RefreshReg$(_c17, \"AddToCartBtn\");\n$RefreshReg$(_c18, \"ProductPage\");","map":{"version":3,"sources":["G:/Dropbox (Personale)/Programming/e-commerce/client/src/pages/ProductPage.jsx"],"names":["styled","Footer","Navbar","NewsLetter","useEffect","useState","useLocation","axios","useDispatch","useSelector","addProduct","Fade","PageContainer","div","Wrapper","Left","Right","RightContainer","ProductImg","img","BlockContainer","ProductTitle","h1","Paragraph","p","Price","span","SpanContainer","Text","Selection","select","Option","option","Amount","SymbolBtn","button","AddToCartBtn","ProductPage","amount","setAmount","limit","setLimit","size","setSize","cart","state","cartIdx","setCartIdx","quantity","id","pathname","split","productInfo","setProductInfo","getProductData","console","log","res","get","data","err","handleAmount","action","dispatch","addToCart","title","description","price","e","target","value","map","s","color"],"mappings":"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","sourcesContent":["import styled from 'styled-components/';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport NewsLetter from '../components/NewsLetter';\r\nimport { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addProduct } from '../redux/cartRedux';\r\nimport { Fade } from 'react-reveal';\r\n\r\n\r\nconst PageContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  `\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: calc(100vh - 70px );\r\n`\r\n\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: aliceblue;\r\n  \r\n`\r\nconst Right = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\nconst RightContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  height: 100%;\r\n\r\n`\r\n\r\nconst ProductImg = styled.img`\r\n  object-fit: contain;\r\n  width: auto;\r\n  height: 90%;\r\n`\r\n\r\n\r\nconst BlockContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 80px;\r\n  margin-top: 2%;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  \r\n`\r\n\r\nconst ProductTitle = styled.h1`\r\n  color: #3a3a3a;\r\n  font-size: 3em;\r\n  font-weight: 300;\r\n  margin: 8% 0 5% 0;\r\n`;\r\n\r\nconst Paragraph = styled.p`\r\n  width: 70%;\r\n  font-size: 1.2em;\r\n  margin: 0 0 5% 0;\r\n`\r\nconst Price = styled.span`\r\n  font-size: 2em;\r\n  margin: 0 0 5% 0;\r\n\r\n`\r\n\r\nconst SpanContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n`\r\nconst Text = styled.span`\r\n  font-size: 1.5em;\r\n`\r\nconst Selection = styled.select`\r\nwidth: auto;\r\nfont-size: 1em;\r\nheight: auto;\r\nmargin-left: 1em;\r\npadding: 10px;\r\n`\r\nconst Option = styled.option`\r\n  font-size: 1em;\r\n`\r\nconst Amount = styled.p`\r\n  font-size: 1.5em;\r\n  margin: 0 3%;\r\n\r\n`\r\nconst SymbolBtn = styled.button`\r\n  font-size: 1.5em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: none;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  &:hover {\r\n    background-color: #303030;\r\n    color: white;\r\n  border: 2px solid white;\r\n  }\r\n`\r\n\r\n\r\nconst AddToCartBtn = styled.button`\r\n  background: white;\r\n  cursor : pointer;\r\n  color : black;\r\n  border: 2px solid grey;\r\n  padding: .8em;\r\n  width: 100px;\r\n  font-size: .8em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: 5%;\r\n  transition: all 0.3s ease;\r\n  &:hover {\r\n    background-color: #303030;\r\n    color: white;\r\n  border: 2px solid white;\r\n  }\r\n\r\n`;\r\n\r\nfunction ProductPage() {\r\n\r\n  const [amount, setAmount] = useState(1);\r\n  const [limit, setLimit] = useState(false);\r\n  const [size, setSize] = useState(\"\");\r\n  const cart = useSelector((state) => state.cart);\r\n  const [cartIdx, setCartIdx] = useState(cart.quantity);\r\n\r\n  const id = useLocation().pathname.split('/')[2];\r\n  const [productInfo, setProductInfo] = useState({})\r\n\r\n  useEffect(() => {\r\n    const getProductData = async () => {\r\n      try {\r\n        console.log(id);\r\n        const res = await axios.get(`http://localhost:5000/api/products/${id}`)\r\n        setProductInfo(res.data)\r\n        console.log(res);\r\n\r\n      } catch (err) {\r\n\r\n      }\r\n    }\r\n    getProductData();\r\n  }, [id])\r\n\r\n\r\n  const handleAmount = (action) => {\r\n    if (action === \"decrease\" && amount > 1) {\r\n      setAmount(amount - 1);\r\n      setLimit(false);\r\n    }\r\n    if (action === \"increase\" && amount === 5) {\r\n      setLimit(true);\r\n    }\r\n    else if (action === \"increase\" && amount < 5) {\r\n      setAmount(amount + 1);\r\n    }\r\n  }\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const addToCart = async () => {\r\n    setCartIdx(cart.quantity);\r\n    console.log(cartIdx);\r\n    dispatch(\r\n      addProduct({ ...productInfo, amount, size, cartIdx })\r\n    );\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <PageContainer>\r\n      <Fade>\r\n        <Navbar />\r\n\r\n      </Fade>\r\n      <Wrapper>\r\n        <Left delay={200} >\r\n          <Fade left>\r\n            <ProductImg src={productInfo.img} />\r\n          </Fade>\r\n        </Left>\r\n        <Right>\r\n          <RightContainer>\r\n            <Fade>\r\n              <ProductTitle>{productInfo.title}</ProductTitle>\r\n              <Paragraph>{productInfo.description} </Paragraph>\r\n              <Price>$ {productInfo.price} </Price>\r\n              <BlockContainer>\r\n                <SpanContainer>\r\n                  <Text>Size</Text>\r\n                  <Selection onChange={(e) => setSize(e.target.value)} >\r\n                    {productInfo.size?.map((s) => (<Option key={s}>{s}</Option>))}\r\n                  </Selection>\r\n                </SpanContainer>\r\n              </BlockContainer>\r\n              <BlockContainer>\r\n                <SpanContainer>\r\n                  <SymbolBtn onClick={() => handleAmount(\"decrease\")} >-</SymbolBtn>\r\n                  <Amount>{amount}</Amount>\r\n                  <SymbolBtn onClick={() => handleAmount(\"increase\")} >+</SymbolBtn>\r\n                  <AddToCartBtn onClick={() => addToCart()} >Add to Cart</AddToCartBtn>\r\n                </SpanContainer>\r\n              </BlockContainer>\r\n              <SpanContainer style={{ color: \"red\" }} >\r\n                {limit && \"Sorry can't order more than 5\"}\r\n              </SpanContainer>\r\n            </Fade>\r\n          </RightContainer>\r\n        </Right>\r\n      </Wrapper>\r\n      <NewsLetter />\r\n      <Footer />\r\n\r\n    </PageContainer>\r\n  );\r\n}\r\n\r\nexport default ProductPage;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"G:\\\\Dropbox (Personale)\\\\Programming\\\\e-commerce\\\\client\\\\src\\\\pages\\\\Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport Footer from '../components/Footer';\nimport Navbar from '../components/Navbar';\nimport { useState } from 'react';\nimport NewsLetter from '../components/NewsLetter';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProduct } from '../redux/cartRedux';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios';\nimport { userRequest } from '../data/requestMethods';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n_c = Container;\nconst Title = styled.h1`\n  font-size: 2em;\n  margin-top: 2%;\n  font-weight: 400;\n`;\n_c2 = Title;\nconst BtnsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 95%;\n  margin-bottom: 2%;\n`;\n_c3 = BtnsWrapper;\nconst BodyContainer = styled.div`\n  display: flex;\n  width: 95%;\n  height: auto;\n`;\n_c4 = BodyContainer;\nconst ItemsContainer = styled.div`\n  flex: 3;\n  display: flex;\n  flex-direction: column;\n  //background-color: #d8e2e2;\n  height: auto;\n`;\n_c5 = ItemsContainer;\nconst OrderContainer = styled.div`\n  flex: 1;\n  display: flex;\n  height: 500px;\n  border: 1px solid grey;\n  border-radius: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n_c6 = OrderContainer;\nconst OrderWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 90%;\n  height: 90%;\n`;\n_c7 = OrderWrapper;\nconst Item = styled.div`\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid grey;\n  padding: 20px 0;\n  position: relative;\n`;\n_c8 = Item;\nconst Image = styled.img`\n  width: 250px;\n  height: 250px;\n  object-fit: contain;\n`;\n_c9 = Image;\nconst DescContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 80%;\n  width: auto;\n`;\n_c10 = DescContainer;\nconst PriceAndAmountContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  height: 50%;\n  width: 10%;\n  position: absolute;\n  right: 5%;\n`;\n_c11 = PriceAndAmountContainer;\nconst AmountContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  height: 80%;\n  width: 100%;\n`;\n_c12 = AmountContainer;\nconst DescSpan = styled.span`\n  font-size: 1.2em;\n`;\n_c13 = DescSpan;\nconst SpanContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  font-size: ${props => props.fontsize};\n\n`;\n_c14 = SpanContainer;\nconst Amount = styled.p`\n  font-size: 1.5em;\n  margin: 0 3%;\n`;\n_c15 = Amount;\nconst Price = styled.span`\n  font-size: 2em;\n  font-weight: 500;\n`;\n_c16 = Price;\nconst SymbolBtn = styled.button`\n  font-size: 1.5em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  &:hover {\n    background-color: #303030;\n    color: white;\n  border: 2px solid white;\n  }\n`;\n_c17 = SymbolBtn;\nconst Btn = styled.button`\n  background: white;\n  cursor : pointer;\n  color : black;\n  border: 2px solid grey;\n  padding: .8em;\n  width: 200px;\n  font-size: .8em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  &:hover {\n    background-color: #303030;\n    color: white;\n  border: 2px solid white;\n  }\n\n`;\n_c18 = Btn;\nconst SummaryTitle = styled.h2`\n  font-size: 2.5em;\n  font-weight: 400;\n  color: #252525;\n  margin-bottom: 10%;\n`;\n_c19 = SummaryTitle;\nconst CheckoutBtn = styled.button`\n  background: #000000;\n  cursor : pointer;\n  color : #dddddd;\n  border: 2px solid grey;\n  font-weight: 500;\n  margin-top: 10%;\n  padding: .8em;\n  width: 200px;\n  font-size: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  &:hover {\n    background-color: #ffffff;\n    color: #252525;\n  border: 2px solid grey;\n  }\n\n`;\n_c20 = CheckoutBtn;\nconst KEY = process.env.REACT_APP_KEY;\nexport default function Cart() {\n  _s();\n\n  var _cart$products;\n\n  const [amount, setAmount] = useState(1);\n  const [limit, setLimit] = useState(false);\n  const cart = useSelector(state => state.cart);\n  const navigate = Navigate();\n\n  const handleClick = action => {\n    if (action === \"decrease\" && amount > 1) {\n      setAmount(amount - 1);\n      setLimit(false);\n      updateCartAmount();\n    }\n\n    if (action === \"increase\" && amount === 5) {\n      setLimit(true);\n    } else if (action === \"increase\" && amount < 5) {\n      setAmount(amount + 1);\n      updateCartAmount();\n    }\n  };\n\n  const dispatch = useDispatch();\n\n  const updateCartAmount = () => {\n    dispatch(addProduct({\n      amount\n    }));\n  };\n\n  const [stripeToken, setStripeToken] = useState(null);\n\n  const onToken = token => {\n    setStripeToken(token);\n    console.log(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await userRequest(\"/checkout/payment\", {\n          tokenId: stripeToken,\n          amount: cart.total\n        });\n        navigate(\"/success\");\n        console.log(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    stripeToken && makeRequest();\n  }, [stripeToken]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      children: \"Cart Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BtnsWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Btn, {\n        children: \"Continue Shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Btn, {\n        children: \"Go To Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BodyContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ItemsContainer, {\n        children: (_cart$products = cart.products) === null || _cart$products === void 0 ? void 0 : _cart$products.map(el => /*#__PURE__*/_jsxDEV(Item, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: el.img\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DescContainer, {\n            children: [/*#__PURE__*/_jsxDEV(DescSpan, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"PRODUCT:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), \" \", el.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), \" \", el._id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"COLOR:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), \" \", el.color]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"SIZE:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), \" \", el.size]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PriceAndAmountContainer, {\n            children: [/*#__PURE__*/_jsxDEV(AmountContainer, {\n              children: [/*#__PURE__*/_jsxDEV(SymbolBtn, {\n                onClick: () => handleClick(\"decrease\"),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Amount, {\n                children: el.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SymbolBtn, {\n                onClick: () => handleClick(\"increase\"),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Price, {\n              children: [\"$ \", el.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, el._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 12\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OrderContainer, {\n        children: /*#__PURE__*/_jsxDEV(OrderWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(SummaryTitle, {\n            children: \"ORDER SUMMARY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DescContainer, {\n            children: [/*#__PURE__*/_jsxDEV(SpanContainer, {\n              children: [/*#__PURE__*/_jsxDEV(DescSpan, {\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n                children: [\"$\", cart.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SpanContainer, {\n              children: [/*#__PURE__*/_jsxDEV(DescSpan, {\n                children: \"Estimated Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n                children: \"$5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SpanContainer, {\n              children: [/*#__PURE__*/_jsxDEV(DescSpan, {\n                children: \"Shipping Discount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n                children: \"$-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SpanContainer, {\n              fontsize: \"2em\",\n              children: [/*#__PURE__*/_jsxDEV(DescSpan, {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DescSpan, {\n                children: [\"$ \", cart.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n            name: \"E-Commerce Shop\",\n            image: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/512x512-Gaussian-Noise.jpg/256px-512x512-Gaussian-Noise.jpg\",\n            billingAddress: true,\n            shippingAddress: true,\n            description: `Your total is $${cart.total}`,\n            amount: cart.total * 100,\n            token: onToken,\n            stripeKey: KEY,\n            children: /*#__PURE__*/_jsxDEV(CheckoutBtn, {\n              children: \"Check Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewsLetter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cart, \"XieWa79cOL/fHOzIrErLWq63BGM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c21 = Cart;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"BtnsWrapper\");\n$RefreshReg$(_c4, \"BodyContainer\");\n$RefreshReg$(_c5, \"ItemsContainer\");\n$RefreshReg$(_c6, \"OrderContainer\");\n$RefreshReg$(_c7, \"OrderWrapper\");\n$RefreshReg$(_c8, \"Item\");\n$RefreshReg$(_c9, \"Image\");\n$RefreshReg$(_c10, \"DescContainer\");\n$RefreshReg$(_c11, \"PriceAndAmountContainer\");\n$RefreshReg$(_c12, \"AmountContainer\");\n$RefreshReg$(_c13, \"DescSpan\");\n$RefreshReg$(_c14, \"SpanContainer\");\n$RefreshReg$(_c15, \"Amount\");\n$RefreshReg$(_c16, \"Price\");\n$RefreshReg$(_c17, \"SymbolBtn\");\n$RefreshReg$(_c18, \"Btn\");\n$RefreshReg$(_c19, \"SummaryTitle\");\n$RefreshReg$(_c20, \"CheckoutBtn\");\n$RefreshReg$(_c21, \"Cart\");","map":{"version":3,"sources":["G:/Dropbox (Personale)/Programming/e-commerce/client/src/pages/Cart.jsx"],"names":["React","useEffect","styled","Footer","Navbar","useState","NewsLetter","useDispatch","useSelector","addProduct","StripeCheckout","axios","userRequest","Navigate","Container","div","Title","h1","BtnsWrapper","BodyContainer","ItemsContainer","OrderContainer","OrderWrapper","Item","Image","img","DescContainer","PriceAndAmountContainer","AmountContainer","DescSpan","span","SpanContainer","props","fontsize","Amount","p","Price","SymbolBtn","button","Btn","SummaryTitle","h2","CheckoutBtn","KEY","process","env","REACT_APP_KEY","Cart","amount","setAmount","limit","setLimit","cart","state","navigate","handleClick","action","updateCartAmount","dispatch","stripeToken","setStripeToken","onToken","token","console","log","makeRequest","res","tokenId","total","data","err","products","map","el","title","_id","color","size","price"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport { useState } from 'react'\r\nimport NewsLetter from '../components/NewsLetter'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addProduct } from '../redux/cartRedux'\r\nimport StripeCheckout from 'react-stripe-checkout'\r\nimport axios from 'axios'\r\nimport { userRequest } from '../data/requestMethods'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\nconst Title = styled.h1`\r\n  font-size: 2em;\r\n  margin-top: 2%;\r\n  font-weight: 400;\r\n`\r\nconst BtnsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 95%;\r\n  margin-bottom: 2%;\r\n`\r\nconst BodyContainer = styled.div`\r\n  display: flex;\r\n  width: 95%;\r\n  height: auto;\r\n`\r\nconst ItemsContainer = styled.div`\r\n  flex: 3;\r\n  display: flex;\r\n  flex-direction: column;\r\n  //background-color: #d8e2e2;\r\n  height: auto;\r\n`\r\n\r\nconst OrderContainer = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  height: 500px;\r\n  border: 1px solid grey;\r\n  border-radius: 20px;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst OrderWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 90%;\r\n  height: 90%;\r\n`\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: 1px solid grey;\r\n  padding: 20px 0;\r\n  position: relative;\r\n`\r\nconst Image = styled.img`\r\n  width: 250px;\r\n  height: 250px;\r\n  object-fit: contain;\r\n`\r\nconst DescContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 80%;\r\n  width: auto;\r\n`\r\n\r\nconst PriceAndAmountContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 50%;\r\n  width: 10%;\r\n  position: absolute;\r\n  right: 5%;\r\n`\r\nconst AmountContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 80%;\r\n  width: 100%;\r\n`\r\nconst DescSpan = styled.span`\r\n  font-size: 1.2em;\r\n`\r\nconst SpanContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  font-size: ${props => props.fontsize};\r\n\r\n`\r\n\r\nconst Amount = styled.p`\r\n  font-size: 1.5em;\r\n  margin: 0 3%;\r\n`\r\nconst Price = styled.span`\r\n  font-size: 2em;\r\n  font-weight: 500;\r\n`\r\n\r\nconst SymbolBtn = styled.button`\r\n  font-size: 1.5em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: none;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  &:hover {\r\n    background-color: #303030;\r\n    color: white;\r\n  border: 2px solid white;\r\n  }\r\n`\r\n\r\nconst Btn = styled.button`\r\n  background: white;\r\n  cursor : pointer;\r\n  color : black;\r\n  border: 2px solid grey;\r\n  padding: .8em;\r\n  width: 200px;\r\n  font-size: .8em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  &:hover {\r\n    background-color: #303030;\r\n    color: white;\r\n  border: 2px solid white;\r\n  }\r\n\r\n`;\r\n\r\nconst SummaryTitle = styled.h2`\r\n  font-size: 2.5em;\r\n  font-weight: 400;\r\n  color: #252525;\r\n  margin-bottom: 10%;\r\n`\r\n\r\nconst CheckoutBtn = styled.button`\r\n  background: #000000;\r\n  cursor : pointer;\r\n  color : #dddddd;\r\n  border: 2px solid grey;\r\n  font-weight: 500;\r\n  margin-top: 10%;\r\n  padding: .8em;\r\n  width: 200px;\r\n  font-size: 1em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  &:hover {\r\n    background-color: #ffffff;\r\n    color: #252525;\r\n  border: 2px solid grey;\r\n  }\r\n\r\n`;\r\n\r\n\r\nconst KEY = process.env.REACT_APP_KEY;\r\n\r\n\r\nexport default function Cart() {\r\n\r\n\r\n  const [amount, setAmount] = useState(1);\r\n  const [limit, setLimit] = useState(false);\r\n  const cart = useSelector(state => state.cart)\r\n  const navigate = Navigate();\r\n\r\n  const handleClick = (action) => {\r\n    if (action === \"decrease\" && amount > 1) {\r\n      setAmount(amount - 1);\r\n      setLimit(false);\r\n      updateCartAmount();\r\n    }\r\n    if (action === \"increase\" && amount === 5) {\r\n      setLimit(true);\r\n    }\r\n    else if (action === \"increase\" && amount < 5) {\r\n      setAmount(amount + 1);\r\n      updateCartAmount();\r\n\r\n    }\r\n  }\r\n\r\n  const dispatch = useDispatch();\r\n  const updateCartAmount = () => {\r\n    dispatch(\r\n      addProduct({ amount })\r\n    );\r\n  }\r\n\r\n  const [stripeToken, setStripeToken] = useState(null)\r\n\r\n  const onToken = (token) => {\r\n    setStripeToken(token);\r\n    console.log(token)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const makeRequest = async () => {\r\n      try {\r\n        const res = await userRequest(\"/checkout/payment\", {\r\n          tokenId: stripeToken,\r\n          amount: cart.total\r\n        })\r\n        navigate(\"/success\")\r\n        console.log(res.data)\r\n\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    stripeToken && makeRequest()\r\n  }, [stripeToken])\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <Navbar />\r\n      <Title>Cart Products</Title>\r\n      <BtnsWrapper>\r\n        <Btn>Continue Shopping</Btn>\r\n        <Btn>Go To Checkout</Btn>\r\n      </BtnsWrapper>\r\n      <BodyContainer>\r\n        <ItemsContainer>\r\n          {cart.products?.map((el) =>\r\n\r\n          (<Item key={el._id} >\r\n            <Image src={el.img} />\r\n            <DescContainer>\r\n              <DescSpan>\r\n                <b>PRODUCT:</b> {el.title}\r\n              </DescSpan>\r\n              <DescSpan>\r\n                <b>ID:</b> {el._id}\r\n              </DescSpan>\r\n              <DescSpan>\r\n                <b>COLOR:</b> {el.color}\r\n              </DescSpan>\r\n              <DescSpan>\r\n                <b>SIZE:</b> {el.size}\r\n              </DescSpan>\r\n            </DescContainer>\r\n            <PriceAndAmountContainer>\r\n              <AmountContainer>\r\n                <SymbolBtn onClick={() => handleClick(\"decrease\")} >-</SymbolBtn>\r\n                <Amount>{el.amount}</Amount>\r\n                <SymbolBtn onClick={() => handleClick(\"increase\")} >+</SymbolBtn>\r\n              </AmountContainer>\r\n              <Price>$ {el.price}</Price>\r\n            </PriceAndAmountContainer>\r\n          </Item>)\r\n          )}\r\n\r\n\r\n        </ItemsContainer>\r\n        <OrderContainer>\r\n          <OrderWrapper>\r\n            <SummaryTitle>ORDER SUMMARY</SummaryTitle>\r\n            <DescContainer>\r\n              <SpanContainer>\r\n                <DescSpan>Subtotal</DescSpan>\r\n                <DescSpan>${cart.total}</DescSpan>\r\n              </SpanContainer>\r\n              <SpanContainer>\r\n                <DescSpan>Estimated Shipping</DescSpan>\r\n                <DescSpan>$5</DescSpan>\r\n              </SpanContainer>\r\n              <SpanContainer>\r\n                <DescSpan>Shipping Discount</DescSpan>\r\n                <DescSpan>$-5</DescSpan>\r\n              </SpanContainer>\r\n              <SpanContainer fontsize=\"2em\">\r\n                <DescSpan>Total</DescSpan>\r\n                <DescSpan>$ {cart.total}</DescSpan>\r\n              </SpanContainer>\r\n            </DescContainer>\r\n            <StripeCheckout\r\n              name='E-Commerce Shop'\r\n              image='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/512x512-Gaussian-Noise.jpg/256px-512x512-Gaussian-Noise.jpg'\r\n              billingAddress\r\n              shippingAddress\r\n              description={`Your total is $${cart.total}`}\r\n              amount={cart.total * 100}\r\n              token={onToken}\r\n              stripeKey={KEY}\r\n            >\r\n              <CheckoutBtn>Check Out</CheckoutBtn>\r\n            </StripeCheckout>\r\n          </OrderWrapper>\r\n        </OrderContainer>\r\n      </BodyContainer>\r\n      <NewsLetter />\r\n      <Footer />\r\n    </Container>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}